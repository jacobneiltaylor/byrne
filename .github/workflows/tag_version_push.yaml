on:
  push:
    tags:
      - 'v*.*.*'

jobs:
  style:
    uses: ./.github/workflows/style.yaml
  unit:
    uses: ./.github/workflows/unit.yaml
  integration:
    uses: ./.github/workflows/integration.yaml
    needs:
      - unit
  publish:
    uses: ./.github/workflows/publish.yaml
    needs:
      - integration
      - style